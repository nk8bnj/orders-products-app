(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{9024:function(e,t,r){Promise.resolve().then(r.bind(r,7103))},7103:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(7437),o=r(2265),d=r(1444),s=r(3600),l=r(4111),c=r(705),a=r(9548),i=r(2743),u=r.n(i),_=e=>{let{order:t}=e,[r,i]=(0,o.useState)(!1),{products:_}=(0,d.v9)(e=>e.products),f=(0,d.I0)();(0,o.useEffect)(()=>{f((0,l.t2)())},[]);let p=_.filter(e=>e.order===t.id),m=p.reduce((e,t)=>e+t.price,0);return(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsx)("div",{className:u().title,children:(0,n.jsx)("p",{children:t.title})}),(0,n.jsxs)("div",{className:u().productsAmount,children:[(0,n.jsx)("p",{children:p.length}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{className:u().smallText,children:"products"})})]}),(0,n.jsxs)("div",{className:u().date,children:[(0,n.jsx)("p",{children:(0,n.jsx)("span",{className:u().smallText,children:(0,a.p6)(t.date,"short")})}),(0,n.jsx)("p",{children:(0,a.p6)(t.date,"long")})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:u().smallText,children:[m,"$"]}),(0,n.jsxs)("p",{children:[(0,a.vy)(m)," UAH"]})]}),(0,n.jsx)("img",{src:"/delete.svg",className:u().deleteIcon,alt:"Delete",onClick:()=>i(!0)}),r&&(0,n.jsx)(c.Z,{id:t.id,title:"order",order:t,onClose:()=>{i(!1)},onDelete:()=>{f((0,s.wH)(t.id)),i(!1)}})]})},f=r(3740),p=r.n(f),m=()=>{let e=(0,d.I0)(),t=(0,d.v9)(e=>e.orders.orders);return(0,o.useEffect)(()=>{e((0,s.AU)())},[e]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:p().header,children:(0,n.jsx)("h1",{children:"Order Management"})}),t.map(e=>(0,n.jsx)(_,{order:e},e.id))]})}},705:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(7437);r(2265);var o=r(2610),d=r.n(o),s=e=>{let{order:t}=e;return(0,n.jsx)("div",{className:d().container,children:(0,n.jsx)("p",{children:null==t?void 0:t.title})})},l=r(1645),c=r.n(l),a=e=>{let{product:t}=e;return(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsx)("div",{className:"".concat(c().indicator," ").concat((null==t?void 0:t.isFree)?c().free:"")}),(0,n.jsx)("img",{className:c().productIcon,src:null==t?void 0:t.img,alt:null==t?void 0:t.name}),(0,n.jsxs)("div",{className:c().productName,children:[(0,n.jsx)("p",{children:null==t?void 0:t.name}),(0,n.jsxs)("p",{children:["S/N ",null==t?void 0:t.sn]})]})]})},i=r(5383),u=r.n(i),_=e=>{let{id:t,product:r,order:o,title:d,onClose:l,onDelete:c}=e;return(0,n.jsx)("div",{className:u().container,children:(0,n.jsxs)("div",{className:u().content,children:[(0,n.jsxs)("h3",{className:u().title,children:["Are you sure you want to delete this ",d,"?"]}),"product"===d?(0,n.jsx)(a,{product:r}):(0,n.jsx)(s,{order:o}),(0,n.jsxs)("div",{className:u().buttons,children:[(0,n.jsx)("button",{className:u().buttons__cancel,onClick:l,children:"Cancel"}),(0,n.jsxs)("button",{className:u().buttons__delete,onClick:()=>c(t),children:[(0,n.jsx)("img",{className:u().deleteIcon,src:"/delete-red.svg",alt:"delete"}),"Delete"]})]}),(0,n.jsx)("div",{onClick:l,className:u().closeButton,children:"X"})]})})}},3600:function(e,t,r){"use strict";r.d(t,{AU:function(){return d},wH:function(){return l}});var n=r(9753),o=r(8472);let d=(0,n.hg)("orders/fetchOrders",async()=>(await o.Z.get("http://localhost:3000/data/orders.json")).data),s=(0,n.oM)({name:"orders",initialState:{orders:[],error:null},reducers:{deleteOrder(e,t){e.orders=e.orders.filter(e=>e.id!==t.payload)}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{e.orders=t.payload}).addCase(d.rejected,(e,t)=>{e.error=t.error.message||"Failed to fetch orders"})}}),{deleteOrder:l}=s.actions;t.ZP=s.reducer},4111:function(e,t,r){"use strict";r.d(t,{Ir:function(){return a},Tv:function(){return l},jk:function(){return c},t2:function(){return d}});var n=r(9753),o=r(8472);let d=(0,n.hg)("products/fetchProducts",async()=>(await o.Z.get("http://localhost:3000/data/products.json")).data),s=(0,n.oM)({name:"products",initialState:{products:[],loading:!1,error:null,filter:"",typeFilter:"all"},reducers:{setFilter(e,t){e.filter=t.payload},setTypeFilter(e,t){e.typeFilter=t.payload},deleteProduct(e,t){e.products=e.products.filter(e=>e.id!==t.payload)}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.products=t.payload,e.loading=!1}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Something went wrong"})}}),{setFilter:l,setTypeFilter:c,deleteProduct:a}=s.actions;t.ZP=s.reducer},9548:function(e,t,r){"use strict";function n(e,t){return new Date(e).toLocaleDateString("en-GB","sm"===t?{day:"2-digit",month:"2-digit"}:{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g," / ").replace(",","")}r.d(t,{dR:function(){return o},p6:function(){return n},vy:function(){return d}});let o=(e,t)=>{let r=new Date;e(new Intl.DateTimeFormat("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(r)),t(new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(r))};function d(e){return(41.05*e).toFixed(2)}},3740:function(e){e.exports={header:"Orders_header__BaekG"}},2610:function(e){e.exports={container:"DeleteOrderInfo_container__HwsYK"}},1645:function(e){e.exports={container:"DeleteProductInfo_container__fNUy7",indicator:"DeleteProductInfo_indicator__tQRRm",free:"DeleteProductInfo_free__9de4k",productIcon:"DeleteProductInfo_productIcon__KUq7Z",productName:"DeleteProductInfo_productName__zQ2b6"}},5383:function(e){e.exports={container:"Modal_container__T5Dvn",fadeIn:"Modal_fadeIn__CNujn",content:"Modal_content__Fchkl",title:"Modal_title__oD_ne",buttons:"Modal_buttons__0MBpx",buttons__cancel:"Modal_buttons__cancel__31mFD",buttons__delete:"Modal_buttons__delete__pD_SH",deleteIcon:"Modal_deleteIcon__ZT1i0",closeButton:"Modal_closeButton__Foob_"}},2743:function(e){e.exports={container:"OrderInfo_container__CLK1_",title:"OrderInfo_title___2GNp",productsAmount:"OrderInfo_productsAmount__ICrhE",date:"OrderInfo_date__bq2qC",productType:"OrderInfo_productType__DNeg8",deleteIcon:"OrderInfo_deleteIcon__8itAE",smallText:"OrderInfo_smallText__lwgHI"}}},function(e){e.O(0,[24,721,971,23,744],function(){return e(e.s=9024)}),_N_E=e.O()}]);